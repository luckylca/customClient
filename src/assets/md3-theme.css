/**
 * ============================================
 * Material Design 3 (Material You) 主题系统
 * ============================================
 * 
 * 基于 Purple/Violet 种子色 (#6750A4) 生成的调色板
 * 遵循 Material Design 3 规范
 * 
 * @description 核心设计令牌定义，包含颜色、圆角、阴影、动效等
 * @version 1.0.0
 */

:root {
  /* ==========================================
   * 核心调色板 (Core Palette)
   * ========================================== */

  /* Primary - 主色调 (紫色) */
  --md-primary: #6750A4;
  --md-on-primary: #FFFFFF;
  --md-primary-container: #EADDFF;
  --md-on-primary-container: #21005D;

  /* Secondary - 次要色调 */
  --md-secondary: #625B71;
  --md-on-secondary: #FFFFFF;
  --md-secondary-container: #E8DEF8;
  --md-on-secondary-container: #1D192B;

  /* Tertiary - 第三色调 (玫瑰色) */
  --md-tertiary: #7D5260;
  --md-on-tertiary: #FFFFFF;
  --md-tertiary-container: #FFD8E4;
  --md-on-tertiary-container: #31111D;

  /* Error - 错误色 */
  --md-error: #B3261E;
  --md-on-error: #FFFFFF;
  --md-error-container: #F9DEDC;
  --md-on-error-container: #410E0B;

  /* Surface - 表面色 */
  --md-surface: #FFFBFE;
  --md-on-surface: #1C1B1F;
  --md-surface-variant: #E7E0EC;
  --md-on-surface-variant: #49454F;

  /* Surface Containers - 表面容器层级 */
  --md-surface-container-lowest: #FFFFFF;
  --md-surface-container-low: #F7F2FA;
  --md-surface-container: #F3EDF7;
  --md-surface-container-high: #ECE6F0;
  --md-surface-container-highest: #E6E0E9;

  /* Outline - 边框色 */
  --md-outline: #79747E;
  --md-outline-variant: #CAC4D0;

  /* Inverse - 反转色 */
  --md-inverse-surface: #313033;
  --md-inverse-on-surface: #F4EFF4;
  --md-inverse-primary: #D0BCFF;

  /* Shadow - 阴影色 */
  --md-shadow: #000000;
  --md-scrim: #000000;

  /* ==========================================
   * 游戏专用色彩 (Game-Specific Colors)
   * ========================================== */

  /* 血量指示 */
  --md-health-high: #4CAF50;
  /* 高血量 - 绿色 */
  --md-health-medium: #FF9800;
  /* 中血量 - 橙色 */
  --md-health-low: #F44336;
  /* 低血量 - 红色 */
  --md-health-critical: #D32F2F;
  /* 危险血量 - 深红 */

  /* 热量指示 */
  --md-heat-safe: #4CAF50;
  /* 安全热量 */
  --md-heat-warning: #FF9800;
  /* 警告热量 */
  --md-heat-danger: #F44336;
  /* 危险热量 */

  /* 延迟指示 */
  --md-latency-good: #4CAF50;
  /* <50ms */
  --md-latency-medium: #FFEB3B;
  /* 50-100ms */
  --md-latency-bad: #F44336;
  /* >100ms */

  /* 阵营颜色 */
  --md-team-red: #E53935;
  --md-team-blue: #1E88E5;

  /* Buff 类型颜色 */
  --md-buff-attack: #F44336;
  --md-buff-defense: #2196F3;
  --md-buff-cooling: #00BCD4;
  --md-buff-power: #FF9800;
  --md-buff-heal: #4CAF50;
  --md-buff-ammo: #9C27B0;

  /* ==========================================
   * 圆角系统 (Border Radius System)
   * ========================================== */

  --md-radius-none: 0px;
  --md-radius-xs: 4px;
  --md-radius-sm: 8px;
  --md-radius-md: 12px;
  --md-radius-lg: 16px;
  --md-radius-xl: 24px;
  --md-radius-2xl: 28px;
  --md-radius-3xl: 32px;
  --md-radius-4xl: 48px;
  --md-radius-full: 9999px;

  /* ==========================================
   * 阴影系统 (Elevation System)
   * ========================================== */

  /* Level 0 - 无阴影 */
  --md-elevation-0: none;

  /* Level 1 - 卡片默认 */
  --md-elevation-1: 0 1px 2px 0 rgba(0, 0, 0, 0.05),
    0 1px 3px 1px rgba(0, 0, 0, 0.03);

  /* Level 2 - 悬浮状态 */
  --md-elevation-2: 0 1px 2px 0 rgba(0, 0, 0, 0.08),
    0 2px 6px 2px rgba(0, 0, 0, 0.06);

  /* Level 3 - 重要元素 */
  --md-elevation-3: 0 4px 8px 3px rgba(0, 0, 0, 0.08),
    0 1px 3px 0 rgba(0, 0, 0, 0.1);

  /* Level 4 - FAB, 对话框 */
  --md-elevation-4: 0 6px 10px 4px rgba(0, 0, 0, 0.08),
    0 2px 3px 0 rgba(0, 0, 0, 0.1);

  /* Level 5 - 模态 */
  --md-elevation-5: 0 8px 12px 6px rgba(0, 0, 0, 0.08),
    0 4px 4px 0 rgba(0, 0, 0, 0.1);

  /* ==========================================
   * 动效系统 (Motion System)
   * ========================================== */

  /* 持续时间 */
  --md-duration-short1: 50ms;
  --md-duration-short2: 100ms;
  --md-duration-short3: 150ms;
  --md-duration-short4: 200ms;
  --md-duration-medium1: 250ms;
  --md-duration-medium2: 300ms;
  --md-duration-medium3: 350ms;
  --md-duration-medium4: 400ms;
  --md-duration-long1: 450ms;
  --md-duration-long2: 500ms;

  /* 缓动函数 - Material You 标准 */
  --md-easing-standard: cubic-bezier(0.2, 0, 0, 1);
  --md-easing-standard-decelerate: cubic-bezier(0, 0, 0, 1);
  --md-easing-standard-accelerate: cubic-bezier(0.3, 0, 1, 1);
  --md-easing-emphasized: cubic-bezier(0.2, 0, 0, 1);
  --md-easing-emphasized-decelerate: cubic-bezier(0.05, 0.7, 0.1, 1);
  --md-easing-emphasized-accelerate: cubic-bezier(0.3, 0, 0.8, 0.15);

  /* ==========================================
   * 字体系统 (Typography System)
   * ========================================== */

  --md-font-family: 'Roboto', 'Noto Sans SC', sans-serif;

  /* Display */
  --md-display-large: 3.5rem;
  /* 56px */
  --md-display-medium: 2.8rem;
  /* 45px */
  --md-display-small: 2.25rem;
  /* 36px */

  /* Headline */
  --md-headline-large: 2rem;
  /* 32px */
  --md-headline-medium: 1.75rem;
  /* 28px */
  --md-headline-small: 1.5rem;
  /* 24px */

  /* Title */
  --md-title-large: 1.375rem;
  /* 22px */
  --md-title-medium: 1rem;
  /* 16px */
  --md-title-small: 0.875rem;
  /* 14px */

  /* Body */
  --md-body-large: 1rem;
  /* 16px */
  --md-body-medium: 0.875rem;
  /* 14px */
  --md-body-small: 0.75rem;
  /* 12px */

  /* Label */
  --md-label-large: 0.875rem;
  /* 14px */
  --md-label-medium: 0.75rem;
  /* 12px */
  --md-label-small: 0.6875rem;
  /* 11px */

  /* ==========================================
   * 间距系统 (Spacing System)
   * ========================================== */

  --md-spacing-xs: 4px;
  --md-spacing-sm: 8px;
  --md-spacing-md: 12px;
  --md-spacing-lg: 16px;
  --md-spacing-xl: 24px;
  --md-spacing-2xl: 32px;
  --md-spacing-3xl: 48px;
  --md-spacing-4xl: 64px;

  /* ==========================================
   * 状态层透明度 (State Layer Opacity)
   * ========================================== */

  --md-state-hover: 0.08;
  --md-state-focus: 0.12;
  --md-state-pressed: 0.12;
  --md-state-dragged: 0.16;

  /* ==========================================
   * HUD 专用变量 (HUD-Specific Variables)
   * ========================================== */

  /* HUD 背景 */
  --hud-bg-primary: rgba(28, 27, 31, 0.85);
  --hud-bg-secondary: rgba(28, 27, 31, 0.65);
  --hud-bg-glass: rgba(255, 255, 255, 0.08);

  /* HUD 边框 */
  --hud-border-default: rgba(255, 255, 255, 0.12);
  --hud-border-active: rgba(103, 80, 164, 0.5);

  /* HUD 文字 */
  --hud-text-primary: rgba(255, 255, 255, 0.95);
  --hud-text-secondary: rgba(255, 255, 255, 0.7);
  --hud-text-tertiary: rgba(255, 255, 255, 0.5);

  /* HUD 尺寸 */
  --hud-min-width: 120px;
  --hud-min-height: 60px;
}

/* ==========================================
 * 深色模式 (Dark Mode)
 * ========================================== */

[data-theme="dark"],
.dark {
  --md-primary: #D0BCFF;
  --md-on-primary: #381E72;
  --md-primary-container: #4F378B;
  --md-on-primary-container: #EADDFF;

  --md-secondary: #CCC2DC;
  --md-on-secondary: #332D41;
  --md-secondary-container: #4A4458;
  --md-on-secondary-container: #E8DEF8;

  --md-tertiary: #EFB8C8;
  --md-on-tertiary: #492532;
  --md-tertiary-container: #633B48;
  --md-on-tertiary-container: #FFD8E4;

  --md-error: #F2B8B5;
  --md-on-error: #601410;
  --md-error-container: #8C1D18;
  --md-on-error-container: #F9DEDC;

  --md-surface: #1C1B1F;
  --md-on-surface: #E6E1E5;
  --md-surface-variant: #49454F;
  --md-on-surface-variant: #CAC4D0;

  --md-surface-container-lowest: #0F0D13;
  --md-surface-container-low: #1D1B20;
  --md-surface-container: #211F26;
  --md-surface-container-high: #2B2930;
  --md-surface-container-highest: #36343B;

  --md-outline: #938F99;
  --md-outline-variant: #49454F;

  --md-inverse-surface: #E6E1E5;
  --md-inverse-on-surface: #313033;
  --md-inverse-primary: #6750A4;
}

/* ==========================================
 * 工具类 (Utility Classes)
 * ========================================== */

/* 背景色 */
.md-bg-surface {
  background-color: var(--md-surface);
}

.md-bg-surface-container {
  background-color: var(--md-surface-container);
}

.md-bg-primary {
  background-color: var(--md-primary);
}

.md-bg-secondary-container {
  background-color: var(--md-secondary-container);
}

.md-bg-tertiary {
  background-color: var(--md-tertiary);
}

/* 文字色 */
.md-text-on-surface {
  color: var(--md-on-surface);
}

.md-text-on-primary {
  color: var(--md-on-primary);
}

.md-text-on-surface-variant {
  color: var(--md-on-surface-variant);
}

.md-text-primary {
  color: var(--md-primary);
}

/* 圆角 */
.md-rounded-sm {
  border-radius: var(--md-radius-sm);
}

.md-rounded-md {
  border-radius: var(--md-radius-md);
}

.md-rounded-lg {
  border-radius: var(--md-radius-lg);
}

.md-rounded-xl {
  border-radius: var(--md-radius-xl);
}

.md-rounded-full {
  border-radius: var(--md-radius-full);
}

/* 阴影 */
.md-elevation-1 {
  box-shadow: var(--md-elevation-1);
}

.md-elevation-2 {
  box-shadow: var(--md-elevation-2);
}

.md-elevation-3 {
  box-shadow: var(--md-elevation-3);
}

.md-elevation-4 {
  box-shadow: var(--md-elevation-4);
}

/* 过渡 */
.md-transition {
  transition: all var(--md-duration-medium2) var(--md-easing-standard);
}

.md-transition-fast {
  transition: all var(--md-duration-short4) var(--md-easing-standard);
}

/* ==========================================
 * HUD 组件基础样式 (HUD Base Styles)
 * ========================================== */

.hud-component {
  position: relative;
  width: 100%;
  height: 100%;
  background: var(--hud-bg-primary);
  border: 1px solid var(--hud-border-default);
  border-radius: var(--md-radius-lg);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  color: var(--hud-text-primary);
  font-family: var(--md-font-family);
  box-shadow: var(--md-elevation-2);
  transition: all var(--md-duration-medium2) var(--md-easing-standard);
  overflow: hidden;
  box-sizing: border-box;
}

.hud-component:hover {
  border-color: var(--hud-border-active);
  box-shadow: var(--md-elevation-3);
}

.hud-component.editing {
  border-color: var(--md-primary);
  box-shadow: 0 0 0 2px rgba(103, 80, 164, 0.3);
}

.hud-header {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: var(--md-spacing-sm) var(--md-spacing-md);
  border-bottom: 1px solid var(--hud-border-default);
  font-size: var(--md-label-medium);
  color: var(--hud-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

/* 演示模式标记 */
.demo-badge {
  margin-left: auto;
  padding: 2px 6px;
  font-size: 9px;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: #FF9800;
  background: rgba(255, 152, 0, 0.15);
  border-radius: var(--md-radius-full);
  animation: demo-pulse 2s ease-in-out infinite;
}

@keyframes demo-pulse {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0.6;
  }
}

.hud-content {
  padding: var(--md-spacing-md);
}

.hud-value {
  font-size: var(--md-headline-large);
  font-weight: 500;
  color: var(--hud-text-primary);
  font-variant-numeric: tabular-nums;
}

.hud-label {
  font-size: var(--md-label-small);
  color: var(--hud-text-tertiary);
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

/* 进度条基础样式 */
.hud-progress {
  height: 8px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: var(--md-radius-full);
  overflow: hidden;
}

.hud-progress-bar {
  height: 100%;
  border-radius: var(--md-radius-full);
  transition: width var(--md-duration-short4) var(--md-easing-standard),
    background-color var(--md-duration-medium2) var(--md-easing-standard);
}

/* ==========================================
 * 动画关键帧 (Animation Keyframes)
 * ========================================== */

@keyframes md-pulse {

  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0.6;
  }
}

@keyframes md-shake {

  0%,
  100% {
    transform: translateX(0);
  }

  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translateX(-2px);
  }

  20%,
  40%,
  60%,
  80% {
    transform: translateX(2px);
  }
}

@keyframes md-glow {

  0%,
  100% {
    box-shadow: 0 0 5px currentColor;
  }

  50% {
    box-shadow: 0 0 20px currentColor, 0 0 30px currentColor;
  }
}

@keyframes md-fade-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }

  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-pulse {
  animation: md-pulse 2s var(--md-easing-standard) infinite;
}

.animate-shake {
  animation: md-shake 0.5s var(--md-easing-standard);
}

.animate-glow {
  animation: md-glow 1.5s var(--md-easing-standard) infinite;
}

.animate-fade-in {
  animation: md-fade-in var(--md-duration-medium2) var(--md-easing-emphasized-decelerate);
}

/* 低血量闪烁效果 */
.health-critical {
  animation: md-pulse 0.5s var(--md-easing-standard) infinite;
}

/* 过热警告效果 */
.heat-overheat {
  animation: md-shake 0.3s var(--md-easing-standard) infinite;
}